"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6567],{6567:(M,u,c)=>{c.r(u),c.d(u,{QuestionPage:()=>P});var g=c(2200),l=c(4341),r=c(9893),e=c(3664),d=c(2615),p=c(6919);function _(o,a){if(1&o&&e.nrm(0,"div",11),2&o){const n=a.index,s=e.XpG();e.AVh("active",n===s.currentIndex)}}function f(o,a){if(1&o&&(e.j41(0,"ion-segment-button",16),e.EFF(1),e.k0s()),2&o){const n=a.$implicit;e.Y8G("value",n.value),e.R7$(),e.SpI(" ",n.label," ")}}function b(o,a){if(1&o){const n=e.RV6();e.qex(0),e.j41(1,"div",12)(2,"div",13),e.EFF(3),e.k0s(),e.j41(4,"ion-segment",14),e.mxI("ngModelChange",function(t){d.eBV(n);const i=e.XpG();return e.DH7(i.preferences[i.questions[i.currentIndex].key],t)||(i.preferences[i.questions[i.currentIndex].key]=t),d.Njj(t)}),e.DNE(5,f,2,2,"ion-segment-button",15),e.k0s()(),e.bVm()}if(2&o){const n=e.XpG();e.R7$(3),e.JRh(n.questions[n.currentIndex].label),e.R7$(),e.R50("ngModel",n.preferences[n.questions[n.currentIndex].key]),e.R7$(),e.Y8G("ngForOf",n.options)}}let P=(()=>{class o{constructor(n,s,t){this.prefService=n,this.loadingCtrl=s,this.toast=t,this.preferences={},this.currentIndex=0,this.questions=[{key:"needsStudyOrWork",label:"Do you usually need to bring study or work materials when going out?"},{key:"preparesForOthers",label:"Do you usually need to prepare for someone else when going out (for example, children, pets, or others)?"},{key:"carriesMedicineOrSnacks",label:"Do you usually carry medication or snacks with you?"},{key:"carryStyle",label:"Do you prefer to bring many things \u201cjust in case\u201d, or only essentials?"},{key:"sensitiveToNoise",label:"Do you feel sensitive to loud sounds or noisy environments?"}],this.options=[{value:0,label:"Yes"},{value:1,label:"No"},{value:2,label:"Skip"}]}ngOnInit(){this.preferences=this.prefService.getPreferences()??{}}next(){this.currentIndex<this.questions.length-1&&this.currentIndex++}prev(){this.currentIndex>0&&this.currentIndex--}save(){this.preferences&&this.loadingCtrl.create({message:"Saving your preferences...",spinner:"crescent"}).then(n=>{n.present(),this.prefService.setPreferences(this.preferences),setTimeout(()=>{n.dismiss(),this.toast.create({message:"Saved successfully!",duration:1e3,color:"success",position:"bottom"}).then(s=>s.present())},1e3)})}static#e=this.\u0275fac=function(s){return new(s||o)(e.rXU(p.HK),e.rXU(r.Xi),e.rXU(r.K_))};static#n=this.\u0275cmp=e.VBU({type:o,selectors:[["ng-component"]],decls:21,vars:8,consts:[[3,"translucent"],[1,"ion-padding",3,"fullscreen"],[1,"progress-row"],[1,"progress-spacer"],[1,"stepper"],["class","step",3,"active",4,"ngFor","ngForOf"],[1,"progress-text"],[4,"ngIf"],[1,"nav-container"],[1,"nav-buttons",3,"click","disabled"],["expand","block",1,"generate-btn",3,"click"],[1,"step"],[1,"question-block"],[1,"question-label"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(s,t){1&s&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"User Preferences"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"div",2),e.nrm(6,"div",3),e.j41(7,"div",4),e.DNE(8,_,1,2,"div",5),e.k0s(),e.j41(9,"div",6),e.EFF(10),e.k0s()(),e.DNE(11,b,6,3,"ng-container",7),e.j41(12,"div",8)(13,"ion-button",9),e.bIt("click",function(){return t.prev()}),e.EFF(14," Previous "),e.k0s(),e.j41(15,"ion-button",9),e.bIt("click",function(){return t.next()}),e.EFF(16," Next "),e.k0s()()(),e.j41(17,"ion-footer")(18,"ion-toolbar")(19,"ion-button",10),e.bIt("click",function(){return t.save()}),e.EFF(20," Save Preferences "),e.k0s()()()),2&s&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("ngForOf",t.questions),e.R7$(2),e.Lme(" ",t.currentIndex+1," / ",t.questions.length," "),e.R7$(),e.Y8G("ngIf",t.preferences),e.R7$(2),e.Y8G("disabled",0===t.currentIndex),e.R7$(2),e.Y8G("disabled",t.currentIndex===t.questions.length-1))},dependencies:[g.MD,g.Sq,g.bT,l.YN,l.BC,l.vS,r.bv,r.Jm,r.W9,r.M0,r.eU,r.Gp,r.eP,r.BC,r.ai,r.Je],styles:["ion-content[_ngcontent-%COMP%]{--background: #faf8f5}ion-content[_ngcontent-%COMP%]   .progress-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin:16px 0}ion-content[_ngcontent-%COMP%]   .progress-row[_ngcontent-%COMP%]   .progress-spacer[_ngcontent-%COMP%]{flex:1}ion-content[_ngcontent-%COMP%]   .progress-row[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center}ion-content[_ngcontent-%COMP%]   .progress-row[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#ccc;margin:0 4px;transition:background-color .3s ease}ion-content[_ngcontent-%COMP%]   .progress-row[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]{background-color:#a2bde0}ion-content[_ngcontent-%COMP%]   .progress-row[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:14px;color:#555;min-width:50px;text-align:right;flex:1;padding-right:5px}ion-content[_ngcontent-%COMP%]   .question-block[_ngcontent-%COMP%]{margin:24px 0}ion-content[_ngcontent-%COMP%]   .question-block[_ngcontent-%COMP%]   .question-label[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:12px;color:#333;min-height:65px}ion-content[_ngcontent-%COMP%]   .question-block[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{display:flex;justify-content:space-between;--background: transparent}ion-content[_ngcontent-%COMP%]   .question-block[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{flex:1;margin:0 4px;border-radius:12px;--background: #ffffff;--color: #333;--indicator-box-shadow: none;font-weight:500;border:1px solid #ccc}ion-content[_ngcontent-%COMP%]   .question-block[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]{--background-checked: #efe3c7;--color: #000;font-weight:600}.nav-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.nav-container[_ngcontent-%COMP%]   .nav-buttons[_ngcontent-%COMP%]{--color: #333333;--border-radius: 8px;--padding-top: 12px;--padding-bottom: 12px;--font-color: #333333;--ripple-color: #efe3c7;--background-activated: #efe3c7;--background-focused: #efe3c7;--border-color: #333333;--border-style: solid;--border-width: 1px;display:flex;justify-content:space-between}.generate-btn[_ngcontent-%COMP%]{--color: #333333;--padding-top: 12px;--padding-bottom: 12px;--background-activated: #d3d4d5;--background-focused: transparent;--border-color: #333333;--border-style: solid;--border-width: 1px;font-weight:600;font-size:18px}.generate-btn[_ngcontent-%COMP%]:active{--background: #d3d4d5}"]})}return o})()}}]);